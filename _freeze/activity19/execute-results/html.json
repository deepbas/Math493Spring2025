{
  "hash": "cd22ed1d0109c5ad432a7178bec53b5c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Activity19\"\nformat: live-html\nengine: knitr\ntoc: true\nwebr:\n  packages:\n    - dplyr\n    - ggplot2\n    - fpp3\n    - patchwork\n    - tsibbledata\n    - urca\n    - astsa\n    - gridExtra\n    - vars\nwarning: false\nmessage: false\n---\n\n::: {.cell}\n\n:::\n\n\n::: {.cell}\n\n:::\n\n\n\n**Mastering ACF & PACF Diagnostics**  \n\n*Objective: Identify AR(p)/MA(q) signatures through autocorrelation patterns*\n\nThe ACF reveals how auto correlations persist over lags, indicating the need for differencing (if autocorrelations decay slowly) or the presence of seasonality (periodic spikes). The PACF pinpoints the order of AR terms by showing where partial correlations become negligible. Together, ACF and PACF help diagnose appropriate ARIMA or seasonal ARIMA structures.\n\n### 1.1 ACF Decay Patterns with `gtemp_both`\n\n::: {.cell}\n\n```{.r .cell-code}\n# Trend-dominated series\ngtemp_both |> \n  as_tsibble() |>\n  ACF(lag_max = 50) |> \n  autoplot() + \n  labs(subtitle = \"Slow ACF decay indicates non-stationarity\")\n```\n\n::: {.cell-output-display}\n![](activity19_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# After differencing\ngtemp_both |> \n  as_tsibble() |>\n  mutate(dTemp = difference(value)) |> \n  ACF(dTemp) |> \n  autoplot() +\n  labs(subtitle = \"ACF cuts off after lag 1 -> MA(1) signature\")\n```\n\n::: {.cell-output-display}\n![](activity19_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n:::\n\n**Key Concept**: Persistent ACF decay suggests differencing needed. Sharp cutoff at lag 1 after differencing implies MA(1) component.\n\n\n\n### 1.2 PACF for AR Order Identification with `pelt`\n\n::: {.cell}\n\n```{.r .cell-code}\n# Lynx population analysis\npelt |> \n  as_tsibble() |>\n  PACF(Lynx, lag_max = 5) |> \n  autoplot() +\n  labs(title = \"PACF cuts off at lag 2 -> AR(2) process\")\n```\n\n::: {.cell-output-display}\n![](activity19_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n**Equation**: AR(p): $X_t = \\phi_1X_{t-1} + ... + \\phi_pX_{t-p} + \\epsilon_t$ \n\nPACF spikes within first p lags indicate AR order.\n\n### 1.3 Seasonal ACF in `vic_elec`\n\n::: {.cell}\n\n```{.r .cell-code}\nvic_elec |> \n  filter(year(Time)==2013) |> \n  ACF(Demand, lag_max=200) |> \n  autoplot() +\n  labs(subtitle = \"Spikes at 48 lags = daily seasonality\")\n```\n\n::: {.cell-output-display}\n![](activity19_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n**Interpretation**: ACF peaks at multiples of fundamental period (48 half-hours = 1 day) reveal seasonality.\n\n### Lab Activity:\n\n1. Load the `aus_production` dataset from `fpp3`.\n\n\n::: {.cell}\n```{webr}\n# 1) Load and visualize the 'Gas' time series\naus_production %>%\n  dplyr::select(Quarter, Gas) %>%\n  autoplot(Gas) +\n  labs(title=\"Gas Time Series from aus_production\")\n```\n:::\n\n\n2. Choose the 'Gas' time series. Plot its ACF and PACF to identify any AR/MA components or seasonal effects.\n\n\n::: {.cell}\n```{webr}\n# 2) Plot ACF & PACF to assess AR/MA/seasonal components\naus_production %>%\n  ACF(Gas) %>%\n  autoplot() +\n  labs(title=\"ACF of Gas\")\n\naus_production %>%\n  PACF(Gas) %>%\n  autoplot() +\n  labs(title=\"PACF of Gas\")\n```\n:::\n\n3. Apply differencing if needed, and re-check the ACF/PACF to refine your model choice.\n\n::: {.cell}\n```{webr}\n# 3) Apply differencing if needed, then re-check ACF/PACF\naus_production %>%\n  mutate(dGas = difference(Gas)) %>%\n  ACF(dGas) %>%\n  autoplot() +\n  labs(title=\"ACF of Differenced Gas\")\n\naus_production %>%\n  mutate(dGas = difference(Gas)) %>%\n  PACF(dGas) %>%\n  autoplot() +\n  labs(title=\"PACF of Differenced Gas\")\n```\n:::\n\n\n\n",
    "supporting": [
      "activity19_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}